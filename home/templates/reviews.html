{% extends "base.html" %}
{% load static %}
{% load custom_tags %}
{% block body %}

 <!-- ===== REVIEWS SECTION ===== -->
  <section id="reviews" class="py-20 bg-gray-50">
    <div class="container mx-auto px-6 md:px-12 lg:px-20">
      
      <!-- Heading -->
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4">What Our Clients Say</h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          Loved by homeowners, trusted by businesses. Hereâ€™s why people choose us.
        </p>
      </div>

      <!-- Swiper Slider -->
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          {% for review in clientreview %}
          <div class="swiper-slide">
            <div class="bg-white rounded-2xl shadow-md p-8 text-center">
              
              {% if review.photo %}
              <img src="{{ review.photo.url }}" 
                   alt="{{ review.name }}"
                   class="w-20 h-20 rounded-full mx-auto mb-4 shadow-md object-cover">
              {% else %}
              <div class="w-20 h-20 rounded-full mx-auto mb-4 shadow-md bg-gray-200 flex items-center justify-center text-gray-500">
                <i class="fa-solid fa-user text-2xl"></i>
              </div>
              {% endif %}

              <h3 class="text-lg font-semibold text-gray-800">{{ review.name }}</h3>
              <p class="text-sm text-gray-500 mb-2">{{ review.city }}</p>

              <!-- Stars -->
              <div class="flex justify-center mb-4 text-yellow-400">
                {% for _ in review.rating|times %}
                  <i class="fa-solid fa-star"></i>
                {% endfor %}
                {% for _ in 5|subtract:review.rating|times %}
                  <i class="fa-regular fa-star"></i>
                {% endfor %}
              </div>

              <p class="text-gray-600 italic">"{{ review.review_text }}"</p>
            </div>
          </div>
          {% endfor %}
        </div>

        <!-- Pagination -->
        <div class="swiper-pagination mt-8"></div>
      </div>
    </div>
  </section>
  <!-- ===== REVIEWS SECTION END ===== -->

  <!-- Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <script>
    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 1,
      spaceBetween: 30,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      autoplay: {
        delay: 4000,
        disableOnInteraction: false,
      },
      breakpoints: {
        768: { slidesPerView: 2 },
        1024: { slidesPerView: 3 }
      }
    });
  </script>

{% endblock body %}